{"version":3,"sources":["../../server/controllers/Accounts.js"],"names":["createAccount","req","res","owner","user","id","body","account","status","json","data","accountNumber","firstName","lastName","email","type","openingBalance","balance","error","message","deleteAccount","params","changeStatus"],"mappings":"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","sourcesContent":["import { addAccount, removeAccount, editStatus } from '../models/Accounts';\nimport { findUser } from '../models/Users';\n\nexport const createAccount = async (req, res) => {\n  try {\n    const owner = { owner: req.user.id };\n    const account = await addAccount({ ...owner, ...req.body });\n    const user = findUser({ id: req.user.id });\n\n    res.status(201).json({\n      status: 201,\n      data: {\n        accountNumber: account.accountNumber,\n        firstName: user.firstName,\n        lastName: user.lastName,\n        email: user.email,\n        type: account.type,\n        openingBalance: account.balance,\n      },\n    });\n  } catch (error) {\n    res.status(500).json({\n      status: 500,\n      error: error.message,\n    });\n  }\n};\n\nexport const deleteAccount = async (req, res) => {\n  try {\n    await removeAccount(req.params);\n    res.json({\n      status: 200,\n      message: 'Account successfully deleted',\n    });\n  } catch (error) {\n    res.status(500).json({\n      status: 500,\n      error: error.message,\n    });\n  }\n};\n\nexport const changeStatus = async (req, res) => {\n  try {\n    const { accountNumber, status } = await editStatus(req);\n    res.json({\n      status: 200,\n      data: {\n        accountNumber,\n        status,\n      },\n    });\n  } catch (error) {\n    res.status(500).json({\n      status: 500,\n      error: error.message,\n    });\n  }\n};\n"],"file":"Accounts.js"}