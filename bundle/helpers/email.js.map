{"version":3,"sources":["../../server/helpers/email.js"],"names":["transport","host","port","secure","auth","user","process","env","USER","pass","PASS","signup","firstName","lastName","email","nodemailer","createTransport","transporter","mailOptions","from","to","subject","html","sendMail","notification","transaction","type","toUpperCase","amount","accountNumber","createdOn","oldBalance","newBalance"],"mappings":";;;;;;;AAAA;;AACA;;;;;;;;AAEA,IAAMA,SAAS,GAAG;AAChBC,EAAAA,IAAI,EAAE,gBADU;AAEhBC,EAAAA,IAAI,EAAE,GAFU;AAGhBC,EAAAA,MAAM,EAAE,IAHQ;AAIhBC,EAAAA,IAAI,EAAE;AACJC,IAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,IADd;AAEJC,IAAAA,IAAI,EAAEH,OAAO,CAACC,GAAR,CAAYG;AAFd;AAJU,CAAlB;;AAUA,IAAMC,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAASC,YAAAA,SAAT,QAASA,SAAT,EAAoBC,QAApB,QAAoBA,QAApB,EAA8BC,KAA9B,QAA8BA,KAA9B;AAAA;AAAA,mBACaC,uBAAWC,eAAX,CAA2BhB,SAA3B,CADb;;AAAA;AACPiB,YAAAA,WADO;AAGPC,YAAAA,WAHO,GAGO;AAClBC,cAAAA,IAAI,EAAE,+BADY;AACqB;AACvCC,cAAAA,EAAE,EAAEN,KAFc;AAEP;AACXO,cAAAA,OAAO,EAAE,kBAHS;AAGW;AAC7BC,cAAAA,IAAI,gBAAS,4BAAWV,SAAX,CAAT,cAAkC,4BAAWC,QAAX,CAAlC,2KAJc,CAOf;;AAPe,aAHP;AAAA,6CAaNI,WAAW,CAACM,QAAZ,CAAqBL,WAArB,CAbM;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAANP,MAAM;AAAA;AAAA;AAAA,GAAZ;;;;AAgBA,IAAMa,YAAY;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAG,kBAAOC,WAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACOV,uBAAWC,eAAX,CAA2BhB,SAA3B,CADP;;AAAA;AACbiB,YAAAA,WADa;AAGbC,YAAAA,WAHa,GAGC;AAClBC,cAAAA,IAAI,EAAE,+BADY;AACqB;AACvCC,cAAAA,EAAE,EAAE,uBAFc;AAEW;AAC7BC,cAAAA,OAAO,EAAE,uDAHS;AAGgD;AAClEC,cAAAA,IAAI,8ZAIyEG,WAAW,CAACC,IAAZ,CAAiBC,WAAjB,EAJzE,kOAQyEF,WAAW,CAACG,MARrF,oOAYyEH,WAAW,CAACI,aAZrF,mOAgByEJ,WAAW,CAACK,SAhBrF,iOAoByEL,WAAW,CAACM,UApBrF,iOAwByEN,WAAW,CAACO,UAxBrF,2CAJc,CA+Bf;;AA/Be,aAHD;AAAA,8CAqCZf,WAAW,CAACM,QAAZ,CAAqBL,WAArB,CArCY;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAZM,YAAY;AAAA;AAAA;AAAA,GAAlB","sourcesContent":["import nodemailer from 'nodemailer';\nimport capitalize from './capitalize';\n\nconst transport = {\n  host: 'smtp.gmail.com',\n  port: 465,\n  secure: true,\n  auth: {\n    user: process.env.USER,\n    pass: process.env.PASS,\n  },\n};\n\nconst signup = async ({ firstName, lastName, email }) => {\n  const transporter = await nodemailer.createTransport(transport);\n\n  const mailOptions = {\n    from: '\"Banka inc\" <foo@example.com>', // sender address\n    to: email, // list of receivers\n    subject: 'Welcome to Banka', // Subject line\n    html: `<h1>${capitalize(firstName)} ${capitalize(lastName)}</h1>\n    <p>You just successfully registered with Banka</p>\n    <p>Go back to the <a href=\"https://iykeevans.github.io/banka/UI\">Website</a> to sign in</p>\n    `, // html body\n  };\n\n  return transporter.sendMail(mailOptions);\n};\n\nconst notification = async (transaction) => {\n  const transporter = await nodemailer.createTransport(transport);\n\n  const mailOptions = {\n    from: '\"Banka inc\" <foo@example.com>', // sender address\n    to: 'krest.swiss@gmail.com', // list of receivers\n    subject: 'Banka Transaction Notification Services (Banka ALERT)', // Subject line\n    html: `<p>This is to inform you that a transaction has occurred on your account with Banka with details below</p>\n      <table style=\"font-family: arial, sans-serif; border-collapse: collapse; width: 100%;\">\n      <tr>\n        <td style=\"border: 1px solid #dddddd; text-align: left; padding: 8px;\">Transaction Type</td>\n        <td style=\"border: 1px solid #dddddd; text-align: left; padding: 8px;\">${transaction.type.toUpperCase()} ALERT</td>\n      </tr>\n      <tr>\n        <td style=\"border: 1px solid #dddddd; text-align: left; padding: 8px;\">Amount</td>\n        <td style=\"border: 1px solid #dddddd; text-align: left; padding: 8px;\">${transaction.amount}</td>\n      </tr>\n      <tr>\n        <td style=\"border: 1px solid #dddddd; text-align: left; padding: 8px;\">Account Number</td>\n        <td style=\"border: 1px solid #dddddd; text-align: left; padding: 8px;\">${transaction.accountNumber}</td>\n      </tr>\n      <tr>\n        <td style=\"border: 1px solid #dddddd; text-align: left; padding: 8px;\">Date and Time</td>\n        <td style=\"border: 1px solid #dddddd; text-align: left; padding: 8px;\">${transaction.createdOn}</td>\n      </tr>\n      <tr>\n        <td style=\"border: 1px solid #dddddd; text-align: left; padding: 8px;\">Old Balance</td>\n        <td style=\"border: 1px solid #dddddd; text-align: left; padding: 8px;\">${transaction.oldBalance}</td>\n      </tr>\n      <tr>\n        <td style=\"border: 1px solid #dddddd; text-align: left; padding: 8px;\">New Balance</td>\n        <td style=\"border: 1px solid #dddddd; text-align: left; padding: 8px;\">${transaction.newBalance}</td>\n      </tr>\n    </table>\n    `, // html body\n  };\n\n  return transporter.sendMail(mailOptions);\n};\n\nexport { signup, notification };\n"],"file":"email.js"}